console.log("Init pokemonRepo...");let privatePokemonList=[],apiUrl="https://pokeapi.co/api/v2/pokemon/?limit=151",input=$("input");function add(a){"object"==typeof a&&"name"in a?privatePokemonList.push(a):console.log("Pokemon is not valid!")}function getAll(){return privatePokemonList}function addListItem(c){let e=document.querySelector(".pokemon-list"),b=document.createElement("li");b.classList.add("col-sm-6","col-md-4","col-lg-3");let d=document.createElement("div"),a=document.createElement("button");a.innerText=c.name,a.classList.add("button-class"),d.appendChild(a),b.appendChild(d),e.appendChild(b),eventListener(a,c)}function eventListener(a,b){a.addEventListener("click",function(){showDetails(b)})}input.on("input",filterList);let container=document.querySelector(".container"),loadingMessage=document.createElement("div");function showLoadingMessage(){loadingMessage.innerText="A couple of seconds please..",console.log("A couple of seconds pelase....")}function hideLoadingMessage(){loadingMessage.remove(),console.log("All good, thanks for waiting!")}function loadList(){return showLoadingMessage(!1),fetch(apiUrl).then(function(a){return a.json()}).then(function(a){hideLoadingMessage(!0),a.results.forEach(function(a){add({name:a.name.toUpperCase(),detailsUrl:a.url})})}).catch(function(a){hideLoadingMessage(!0),console.error(a)})}function loadDetails(a){return console.log("loading details..."),showLoadingMessage(!1),fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){console.log("details:",b),hideLoadingMessage(!0),a.pokemonImg=b.sprites.other.dream_world.front_default,a.height=b.height;let c=[];b.types.forEach(a=>c.push(a.type.name)),a.types=c,a.weight=b.weight;let d=[];b.abilities.forEach(a=>d.push(a.ability.name)),a.abilities=d}).catch(function(a){hideLoadingMessage(!0),console.error(a)})}function showDetails(a){loadDetails(a).then(function(){showModal(a)})}function filterList(){let a=$("input").val();$("li").each(function(){let b=$(this);b.text().startsWith(a)?b.show():b.hide()})}container.append(loadingMessage);let modalContainer=document.querySelector("#exampleModal");function showModal(a){let b=$(".modal-body"),c=$(".modal-title");c.empty(),b.empty();let d=$(`<h1>${a.name}</h1>`),e=$(`<img class="modal-img mx-auto" src="${a.pokemonImg}">`),f=$(`<p class="ml-4 mt-3 mb-0">Height: ${a.height}</p>`),g=$(`<p class="ml-4 mb-0">Weight: ${a.weight}</p>`),h=$(`<div class="ml-4">Types: ${a.types.join(", ")}</div>`),i=$(`<p class="ml-4">Abilities: ${a.abilities}</p>`);c.append(d),b.append(e),b.append(f),b.append(g),b.append(h),b.append(i),$("#exampleModal").modal(),modalContainer.classList.add("is-visible")}document.querySelector("#exampleModal").addEventListener("click",()=>{showModal(pokemon)});let dialogPromiseReject;function hideModal(){modalContainer.classList.remove("is-visible"),dialogPromiseReject&&(dialogPromiseReject(),dialogPromiseReject=null)}let pokemonList=getAll();loadList().then(function(){console.log(pokemonList),pokemonList.forEach(function(a){addListItem(a)})})